import{c as e,e as a,f as t,i as s,a as i}from"./index.a55774b5.js";import{e as o,r as d,w as l,a as r,j as m,k as n,l as p,m as u,v as c,_ as b,y as f}from"./@vue.1c8907e1.js";import"./pinia.110beac1.js";import"./vue-demi.b3a9cad9.js";import"./dayjs.3346cfdf.js";import"./@amap.ff40f7ed.js";import"./vue-router.b139e8fd.js";import"./custom-vue-scrollbar.cd4e21df.js";import"./lodash-es.7eb756e6.js";import"./lodash.29731c5e.js";import"./@arco-design.917191bd.js";import"./resize-observer-polyfill.8deb1e21.js";import"./compute-scroll-into-view.6058b3be.js";import"./b-tween.87ffe365.js";import"./b-validate.394bfa7b.js";import"./number-precision.08b8c2db.js";import"./scroll-into-view-if-needed.5191fdbf.js";import"./axios.e9656f83.js";import"./qs.6738fe0f.js";import"./side-channel.1b804660.js";import"./get-intrinsic.1675b33e.js";import"./has-symbols.caae0f97.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./call-bind.0b5a4f26.js";import"./object-inspect.879eb855.js";import"./nprogress.835d4315.js";import"./@vueuse.a3f87557.js";import"./vuedraggable.7b00f009.js";import"./vue.173a21ce.js";import"./sortablejs.bac44907.js";import"./echarts.b27b3039.js";import"./zrender.bd3e8a7f.js";import"./@wangeditor.06137fbe.js";import"./cos-js-sdk-v5.feae1743.js";import"./@xmldom.629be201.js";import"./qrcode.7c3f82aa.js";import"./encode-utf8.c8acd0c0.js";import"./dijkstrajs.e9faa44a.js";import"./swiper.5398209c.js";import"./@iconify.3bb184c2.js";const j=f("重置表单"),v=f("新增数据"),h=f("打开弹出框"),g=o({setup(o){const f=d(!1),g=d(!1);l((()=>g.value),(e=>{e&&(f.value=!0)}));const w=d(),y=r({table:{data:[],columns:[{title:"#",width:50,dataIndex:""},{title:"名称",dataIndex:"name"},{title:"年龄",dataIndex:"age"},{type:"slot",title:"地址",dataIndex:"address"},{type:"slot",title:"数量",dataIndex:"number"},{type:"slot",title:"操作",dataIndex:"operate",width:120,align:"center"}]}}),x=e=>[{name:"查看",show:!0},{name:"删除",show:e.id,popconfirm:"确定删除么?"}],_=()=>{y.table.data.push({id:Date.now(),name:Math.random(),age:Math.random()})},k=()=>{w.value.validate().then((a=>{a?e().error("请完整填写表单"):g.value=!1}))},M=()=>{V(),y.table.data=[{id:1,name:Math.random(),age:Math.random()},{id:2,name:Math.random(),age:Math.random()},{id:3,name:Math.random(),age:Math.random()}],setTimeout((()=>f.value=!1),1e3)},V=()=>w.value.resetFields();return(e,o)=>{const d=a,l=m("m-input-number"),r=m("m-form-item"),I=m("m-input"),H=t,q=m("m-form"),U=m("m-button"),C=m("m-space"),z=m("m-spin"),$=s,D=i;return n(),p(D,{title:"弹出编辑表格"},{default:u((()=>[c($,{title:"弹出编辑表格",visible:g.value,others:{width:"1000px"},"onHandle:cancel":o[0]||(o[0]=e=>g.value=!1),"onHandle:ok":k,"onHandle:open":M},{default:u((()=>[c(z,{loading:f.value},{default:u((()=>[c(q,{ref_key:"form",ref:w,class:"l-table-edit",model:b(y).table,"auto-label-width":!0},{default:u((()=>[c(H,{config:b(y)},{operate:u((({rows:e})=>[c(d,{list:x(e),"onHandle:click":a=>((e,a)=>{"删除"===e&&(y.table.data=y.table.data.filter((e=>e.id!==a.id)))})(a,e)},null,8,["list","onHandle:click"])])),number:u((({index:e})=>[c(r,{field:`data.${e}.number`,rules:[{required:!0,message:"数量不能为空"}],"validate-trigger":["change","input"]},{default:u((()=>[c(l,{modelValue:b(y).table.data[e].number,"onUpdate:modelValue":a=>b(y).table.data[e].number=a,placeholder:"请输入"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field"])])),address:u((({index:e})=>[c(r,{field:`data.${e}.address`,rules:[{required:!0,message:"地址不能为空"}],"validate-trigger":["change","input"]},{default:u((()=>[c(I,{modelValue:b(y).table.data[e].address,"onUpdate:modelValue":a=>b(y).table.data[e].address=a,placeholder:"请输入"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field"])])),_:1},8,["config"])])),_:1},8,["model"]),c(C,null,{default:u((()=>[c(U,{type:"primary",status:"success",onClick:V},{default:u((()=>[j])),_:1}),c(U,{type:"outline",status:"success",onClick:_},{default:u((()=>[v])),_:1})])),_:1})])),_:1},8,["loading"])])),_:1},8,["visible"]),c(U,{type:"primary",onClick:o[1]||(o[1]=e=>g.value=!0)},{default:u((()=>[h])),_:1})])),_:1})}}});export{g as default};
